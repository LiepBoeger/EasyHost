{% extends 'base_navbar.html' %}
{% block conteudo %}
<div class="container mt-4">
    <h2 class="mb-4">Todos os Aluguéis</h2>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for aluguel, casa_nome, casa_imagem, usuario_nome in alugueis %}
        <div class="col">
            <div class="card h-100 shadow-sm">
                <img src="{{ url_for('static', filename='uploads/casas/' + casa_imagem) if casa_imagem else url_for('static', filename='img/default-house.jpg') }}"
                     class="card-img-top"
                     alt="{{ casa_nome }}"
                     style="height: 200px; object-fit: cover;">

                <div class="card-body">
                    <h5 class="card-title">{{ casa_nome }}</h5>
                    <div class="card-text">
                        <p><i class="bi bi-person-fill"></i> <strong>Responsável:</strong> {{ usuario_nome }}</p>
                        <p><i class="bi bi-calendar-date"></i> <strong>Data de Início:</strong> {{ aluguel.data_inicio.strftime('%d/%m/%Y') }}</p>
                        <p><i class="bi bi-people-fill"></i> <strong>Hóspedes:</strong> {{ aluguel.qtd_hosp }}</p>
                        {% if aluguel.obs %}
                        <div class="alert alert-light p-2 mt-2">
                            <i class="bi bi-chat-left-text"></i> <strong>Observações:</strong> {{ aluguel.obs }}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-8">
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}